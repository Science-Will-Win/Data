**AIGEN BioAgent**

**Phase 1 리즈닝 데이터 수집**

**종합 결과 보고서**

Biomni-R0 vs GPT-4.1 비교 분석 | Dual-Judge PRM | Phase 2 인수인계

2026년 2월 14일 (최종본 v5)

작성: Phase 1 팀 (Hoony) | 검토: 이상훈 수석연구원

AIGEN Sciences × Modulabs

목차

# 1. 핵심 요약 (Executive Summary)

# 2. 프로젝트 개요 및 인프라

# 3. Phase A: 문제점 발견 및 개선 (22건)

# 4. Phase B: 개선된 R0 재실행 결과

# 5. Phase C: GPT-4.1 비교 실행

# 6. 태스크별 상세 비교

# 7. GDPO 쌍 구성 분석

# 8. Dual-Judge PRM 분석

# 9. 구재현 판단기준 14항목 자동 채점

# 10. 문제점 개선 방법론

# 11. API 비용 분석

# 12. Phase 2 인수인계 산출물

# 13. Phase 2 권고사항

# 14. 전체 수집 현황 및 확장 계획

# 1. 핵심 요약 (Executive Summary)

본 보고서는 AIGEN BioAgent 프로젝트 Phase 1의 전체 과정을 종합합니다. 프로젝트 히스토리에서 발견된 22건의 문제점 해결, 개선된 Biomni-R0와 GPT-4.1의 비교 분석, Dual-Judge PRM 채점, 그리고 Phase 2 GDPO 학습을 위한 데이터 인수인계 자료를 포함합니다. v5에서는 태스크별 성공률 문제 3건(#17 patient_gene 0/3→2/3 해결, #18 rare_disease overflow GPT-4.1 API로 해결, #19 LitQA2 근본 원인 규명)의 결과를 반영하였습니다.

|                        |                 |                    |                   |
|------------------------|-----------------|--------------------|-------------------|
| **항목**               | **Biomni-R0**   | **GPT-4.1**        | **시사점**        |
| **평가 태스크**        | 17건 (1건 SKIP) | 17건               | 6개 유형 커버     |
| **성공률**             | 13/16 (81.3%)   | 14/17 (82.4%)      | GPT 소폭 우위     |
| **PRM (Claude judge)** | **0.763**       | 0.677              | R0 추론 품질 우위 |
| **PRM (GPT judge)**    | 0.885           | 0.878              | GPT 자기 편향     |
| **평균 Step 수**       | 14.7 steps      | 10.3 steps         | GPT 효율 우위     |
| **GDPO 유효 쌍**       | 15쌍            | 15쌍               | Phase 2 학습 충분 |
| **총 API 비용**        | $3.96 (OpenAI) | $3.01 (Anthropic) | 합계 ~$8.04      |

핵심 발견: Claude(제3자) 기준 R0의 추론 품질이 GPT-4.1보다 12.7% 우수(0.763 vs 0.677)합니다. R0는 step은 더 쓰지만 각 step의 논리성은 더 높으며, Data Lake 활용 강점(187번)이 확인되었습니다.

# 2. 프로젝트 개요 및 인프라

2.1 프로젝트 목적

AIGEN Sciences와 Modulabs의 협력 프로젝트로, Biomni-R0 바이오메디컬 AI 에이전트의 평가 인프라 구축 및 GDPO 학습용 trajectory 데이터 수집이 목적입니다. Phase 1에서 수집된 데이터는 Phase 2에서 구재현 연구원의 GDPO/PRM 학습에 사용됩니다.

2.2 평가 벤치마크

|                  |               |             |               |                                         |
|------------------|---------------|-------------|---------------|-----------------------------------------|
| **벤치마크**     | **태스크 수** | **유형 수** | **평균 Step** | **특징**                                |
| **Biomni-Eval1** | 433           | 6           | ~15           | GWAS, 유전자 검색, 희귀질환 진단 등     |
| **LAB-Bench**    | 1,554         | 4           | ~20           | LitQA2, SeqQA, DbQA, FigQA (논문 기반)  |
| **BioML-Bench**  | 24            | 5           | ~30           | 단백질공학, 약물발견, 단일세포, 임상 등 |
| **합계**         | **2,011**     | 15          | \-            |                                         |

2.3 인프라 환경

|               |                                                       |
|---------------|-------------------------------------------------------|
| **항목**      | **사양**                                              |
| **서버**      | AIGEN DGX (211.206.241.242, SSH port 22, ID: sww)     |
| **GPU**       | NVIDIA A100 80GB x 8 (GPU 6: Eval1, GPU 7: LAB-Bench) |
| **모델**      | Biomni-R0-32B-AWQ-INT4 (vLLM 서빙, port 8003)         |
| **환경**      | conda: biomni-agent, Python 3.10, tmux 세션 관리      |
| **비교 모델** | GPT-4.1 (OpenAI API), Claude Sonnet 4 (Anthropic API) |

2.4 4가지 데이터 유형

수집된 trajectory는 4가지 유형으로 분류되어 Phase 2 학습에 활용됩니다:

|              |                     |                               |                            |
|--------------|---------------------|-------------------------------|----------------------------|
| **유형**     | **정의**            | **활용**                      | **예시**                   |
| **Positive** | 정답 + 효율적 경로  | SFT 지도학습, GDPO chosen     | R0 489번 (8 step, PRM 1.0) |
| **Error**    | 오답 trajectory     | GDPO rejected, 오류 패턴 학습 | R0 patient_gene 3건        |
| **Recovery** | 실패 후 복구한 경로 | 에러 복구 전략 학습           | API 실패 후 Data Lake 전환 |
| **Failure**  | 양측 모두 실패      | Uncertainty Head 학습용       | 105번, 306번 (둘 다 오답)  |

# 3. Phase A: 문제점 발견 및 개선 (22건)

프로젝트 진행 중 발견된 22건의 문제점과 해결 현황입니다. 5개 카테고리로 분류됩니다.

3.1 Scoring 버그 (6건)

|        |                                       |                                   |          |          |
|--------|---------------------------------------|-----------------------------------|----------|----------|
| **#** | **문제**                              | **해결**                          | **영향** | **상태** |
| 1      | extract_answer가 \<think\> 블록 추출  | extract_clean_answer 전처리 추가  | 전체     | **해결** |
| 2      | trajectory 빈 배열 저장 (str vs dict) | isinstance 체크 제거, 문자열 허용 | 전체     | **해결** |
| 3      | OMIM_ID 채점 미지원 (rare_disease)    | OMIM 정규식 비교 로직 추가        | 37번     | **해결** |
| 4      | "GWAS" 자체를 유전자명으로 추출       | GWAS 키워드 필터링 추가           | 1572번   | **해결** |
| 5      | score 0/1 단순 판정 (ORM 한계)        | PRM Step별 채점 도입              | 전체     | **해결** |
| 6      | 중복 task_id 미처리                   | 마지막 결과만 유지하는 로직 추가  | 2건      | **해결** |

3.2 Data Lake / 프롬프트 (5건)

|        |                                   |                                  |          |            |
|--------|-----------------------------------|----------------------------------|----------|------------|
| **#** | **문제**                          | **해결**                         | **영향** | **상태**   |
| 7      | API 우선 호출 (Data Lake 미활용)  | 개선 프롬프트: DL 우선 검색 전략 | GWAS     | **해결**   |
| 8      | Phenotype 매칭 실패 (명칭 불일치) | 부분 매칭 + fallback 키워드 검색 | GWAS     | **해결**   |
| 9      | EFO 동의어 매핑 누락              | 프롬프트에 키워드 분리 검색 지시 | GWAS     | **부분**   |
| 10     | ENSG ID 검색 경로 없음            | gene2ensembl 매핑 추가 예정      | patient  | **미해결** |
| 11     | 반복 패턴 (같은 코드 재실행)      | 프롬프트에 중복 방지 지시 추가   | 전체     | **해결**   |

3.3 인프라 / 환경 (5건)

|        |                                                         |                                    |          |          |
|--------|---------------------------------------------------------|------------------------------------|----------|----------|
| **#** | **문제**                                                | **해결**                           | **영향** | **상태** |
| 12     | max_tokens 오버플로 (8192→4096)                         | llm.py에서 max_tokens 수정         | 전체     | **해결** |
| 13     | LitQA2 논문 full text 접근 필요 (context overflow 아님) | 프롬프트 길이 검증 + 자동 skip     | LAB      | **해결** |
| 14     | .env BIOMNI_CUSTOM_BASE_URL 덮어쓰기                    | agent 생성 시 base_url 명시적 지정 | GPT 비교 | **해결** |
| 15     | vLLM --quantization awq 옵션 에러                       | 옵션 제거하여 재시작               | GPU7     | **해결** |
| 16     | GPU 프로세스 충돌/중단                                  | tmux 세션 분리 + PID 모니터링      | 전체     | **해결** |

3.4 태스크별 성공률 (3건)

|        |                                      |                                     |          |                |
|--------|--------------------------------------|-------------------------------------|----------|----------------|
| **#** | **문제**                             | **해결 방향**                       | **영향** | **상태**       |
| 17     | patient_gene_detection 2/3 성공      | ENSG 매핑 + GPT-4.1 API 재실행      | 3건      | **해결 (2/3)** |
| 18     | rare_disease context overflow (75번) | GPT-4.1 API (128K context)          | 1건      | **해결**       |
| 19     | LAB-Bench 성공률 편차 큼             | 원인 규명: 논문 full text 접근 필요 | LAB      | **원인 규명**  |

3.5 포맷 / 인수인계 (3건)

|        |                                   |                       |          |          |
|--------|-----------------------------------|-----------------------|----------|----------|
| **#** | **문제**                          | **해결**              | **영향** | **상태** |
| 20     | Ai Message 배너 잔존              | regex로 일괄 제거     | 전체     | **해결** |
| 21     | JSONL/JSON 형식 혼재              | 전 파일 JSON으로 통일 | 전체     | **해결** |
| 22     | 버그 건 (NameError/MaxToken) 잔존 | 자동 필터링으로 제외  | 전체     | **해결** |

**해결 현황:** 22건 중 해결 18건 (81.8%), 부분 1건, 미해결 1건, Phase 2 이관 2건. 태스크별 성공률 문제 3건 중 2건 해결, 1건 원인 규명

# 4. Phase B: 개선된 R0 재실행 결과

Phase A에서 발견된 문제점을 패치한 후, 6개 태스크 유형에서 17건을 재실행했습니다.

4.1 주요 패치 내역

**1) Trajectory 저장 수정:** agent.go() 반환값이 문자열 리스트인데 isinstance(msg, dict) 체크로 전부 필터링 → 체크 제거

**2) 개선 프롬프트 적용:** Data Lake 우선 검색, 중복 방지, 통계 근거 제시 강화

**3) 채점 로직 수정:** OMIM_ID 비교, GWAS 키워드 필터, 중복 제거

4.2 재실행 결과

|                                 |          |          |            |               |
|---------------------------------|----------|----------|------------|---------------|
| **태스크 유형**                 | **실행** | **성공** | **성공률** | **평균 Step** |
| **gwas_variant_prioritization** | 3        | 3        | **100%**   | 10.7          |
| **screen_gene_retrieval**       | 3        | 2        | 66.7%      | 18.7          |
| **lab_bench_seqqa**             | 3        | 3        | **100%**   | 13.0          |
| **patient_gene_detection**      | 3        | 0        | **0%**     | 38.7          |
| **gwas_causal_gene**            | 3        | 3        | **100%**   | 17.3          |
| **rare_disease_diagnosis**      | 2        | 1        | 50%        | 34.0          |
| **합계 (SKIP 제외)**            | **16**   | **13**   | **81.3%**  | 14.7          |

# 5. Phase C: GPT-4.1 비교 실행

GDPO chosen/rejected 쌍 구성을 위해 동일 17건을 GPT-4.1로 실행했습니다.

**환경 이슈:** .env의 BIOMNI_CUSTOM_BASE_URL이 로컬 vLLM 주소로 덮어쓰는 문제 발견. agent 생성 시 base_url="https://api.openai.com/v1" 명시적 지정으로 해결.

|                  |          |          |            |               |
|------------------|----------|----------|------------|---------------|
| **태스크 유형**  | **실행** | **성공** | **성공률** | **평균 Step** |
| **gwas_variant** | 3        | 3        | 100%       | 10.3          |
| **screen_gene**  | 3        | 2        | 66.7%      | 13.0          |
| **lab_bench**    | 3        | 3        | 100%       | 7.3           |
| **patient_gene** | 3        | 1        | 33.3%      | 24.3          |
| **gwas_causal**  | 3        | 3        | 100%       | 9.0           |
| **rare_disease** | 2        | 2        | 100%       | 24.0          |
| **합계**         | **17**   | **14**   | **82.4%**  | 10.3          |

# 6. 태스크별 상세 비교

Claude judge 기준 PRM(C-PRM)을 기본으로, 양측 모델의 17건 결과를 비교합니다.

|          |           |          |         |           |          |         |           |           |          |            |
|----------|-----------|----------|---------|-----------|----------|---------|-----------|-----------|----------|------------|
| **ID**   | **유형**  | **R0**   | **Stp** | **C-PRM** | **GPT**  | **Stp** | **C-PRM** | **Gap**   | **GDPO** | **Chosen** |
| **134**  | g_variant | **OK**   | 10      | **0.76**  | **OK**   | 11      | **0.35**  | **0.41**  | A        | **R0**     |
| **178**  | g_variant | **OK**   | 8       | **0.86**  | **OK**   | 9       | **0.38**  | **0.48**  | A        | **R0**     |
| **116**  | g_variant | **OK**   | 14      | **0.83**  | **OK**   | 11      | **0.82**  | **0.01**  | A        | **GPT**    |
| **190**  | s_gene    | **FAIL** | 28      | **0.78**  | **OK**   | 15      | **0.67**  | **0.11**  | C        | **GPT**    |
| **187**  | s_gene    | **OK**   | 14      | **0.82**  | **FAIL** | 11      | **0.74**  | **0.08**  | B        | **R0**     |
| **313**  | s_gene    | **OK**   | 14      | **0.67**  | **OK**   | 13      | **0.58**  | **0.09**  | A        | **GPT**    |
| **448**  | lb_bench  | **OK**   | 14      | **0.86**  | **OK**   | 5       | **0.78**  | **0.08**  | A        | **GPT**    |
| **47**   | lb_bench  | **OK**   | 17      | **0.74**  | **OK**   | 9       | **0.83**  | **-0.09** | A        | **GPT**    |
| **489**  | lb_bench  | **OK**   | 8       | **0.66**  | **OK**   | 8       | **0.98**  | **-0.32** | A        | **R0**     |
| **105**  | p_gene    | **FAIL** | 46      | **0.67**  | **FAIL** | 31      | **0.64**  | **0.03**  | D        | **-**      |
| **80**   | p_gene    | **FAIL** | 46      | **0.76**  | **OK**   | 23      | **0.76**  | **0.00**  | C        | **GPT**    |
| **306**  | p_gene    | **FAIL** | 24      | **0.59**  | **FAIL** | 19      | **0.78**  | **-0.19** | D        | **-**      |
| **1435** | g_causal  | **OK**   | 16      | **0.84**  | **OK**   | 7       | **0.48**  | **0.36**  | A        | **GPT**    |
| **1158** | g_causal  | **OK**   | 20      | **0.82**  | **OK**   | 15      | **0.61**  | **0.21**  | A        | **GPT**    |
| **1572** | g_causal  | **OK**   | 16      | **0.79**  | **OK**   | 5       | **0.51**  | **0.28**  | A        | **GPT**    |
| **75**   | r_disease | **SKIP** | \-      | **-**     | **OK**   | 27      | **0.76**  | **-**     | C        | **GPT**    |
| **37**   | r_disease | **OK**   | 34      | **0.76**  | **OK**   | 21      | **0.82**  | **-0.06** | A        | **GPT**    |

# 7. GDPO 쌍 구성 분석

|                   |          |              |              |                    |
|-------------------|----------|--------------|--------------|--------------------|
| **시나리오**      | **건수** | **Chosen**   | **Rejected** | **학습 가치**      |
| **A: 둘 다 정답** | 11       | Step 적은 쪽 | Step 많은 쪽 | 효율성 학습        |
| **B: R0만 정답**  | 1        | R0           | GPT-4.1      | **최고 가치 (DL)** |
| **C: GPT만 정답** | 3        | GPT-4.1      | R0           | R0 약점 보완       |
| **D: 둘 다 실패** | 2        | \-           | \-           | Uncertainty 학습   |

**B: screen_gene_187 (R0 정답, GPT 오답):** R0가 Data Lake(gwas_catalog.pkl) 활용으로 정답. GPT는 외부 API만 의존하여 실패. R0의 도메인 특화 강점.

**C: patient_gene_80 (GPT 정답, R0 오답):** R0가 46 step 소모 후 오답, GPT는 23 step으로 정답. ENSG ID 검색 한계.

# 8. Dual-Judge PRM 분석

PRM 채점의 객관성을 검증하기 위해 Claude Sonnet 4(제3자)와 GPT-4.1(당사자) 두 모델을 judge로 사용했습니다.

8.1 Judge 간 비교

|                    |                |                   |                 |                    |
|--------------------|----------------|-------------------|-----------------|--------------------|
| **지표**           | **R0 (GPT-J)** | **R0 (Claude-J)** | **GPT (GPT-J)** | **GPT (Claude-J)** |
| **평균 PRM**       | 0.885          | **0.763**         | 0.878           | **0.677**          |
| **정답 시 평균**   | 0.90           | 0.79              | 0.88            | 0.70               |
| **오답 시 평균**   | 0.85           | 0.70              | **0.90**        | 0.71               |
| **정답-오답 차이** | 0.05           | 0.09              | -0.02           | -0.01              |

8.2 핵심 발견

**1) 자기 평가 편향:** GPT-4.1이 자기 오답에 0.90 부여 (정답보다 높음). Claude는 0.71로 채점. 0.19 차이.

**2) Claude 구분력 우수:** 정답-오답 PRM 차이가 Claude(0.09)가 GPT(0.05)보다 크다. 제3자 judge가 PRM으로 더 적합.

**3) R0 추론 품질 확인:** Claude 기준 R0(0.763) \> GPT(0.677). R0는 step 많지만 각 step 논리성이 더 높음.

8.3 PRM 한계와 Uncertainty 필요성

양측 judge 모두에서 PRM 높은데 오답인 케이스 발생. 이상훈 수석 요구 "PRM + Uncertainty 결합" 필요성이 데이터로 입증되었습니다.

# 9. 구재현 판단기준 14항목 자동 채점

|                        |          |          |                                                    |
|------------------------|----------|----------|----------------------------------------------------|
| **항목**               | **점수** | **등급** | **채점 로직**                                      |
| **1. Tool Use 적절성** | **0.76** | 양호     | DL 사용(+0.3), API만(-0.2), 코드(+0.2). 기본 0.5   |
| **2. Tool 결과 판단**  | **0.94** | 우수     | 해석 키워드(+0.3), 대안 탐색(+0.2). 기본 0.5       |
| **3. 무한루프 회피**   | **0.94** | 우수     | 반복 0~1=1.0, 2=0.7, 3+=0.4                        |
| **4. 코드 적절성**     | **0.66** | 개선     | 코드(+0.3), try-except(+0.2), 에러(-0.3). 기본 0.5 |
| **5. 생물학적 후보**   | **0.75** | 양호     | 유전자 언급: 3+=1.0, 2=0.7, 1=0.5, 0=0.3           |
| **6. 논리적 근거**     | **0.69** | 개선     | 통계 근거: 3+=1.0, 2=0.7, 1=0.5, 0=0.3             |
| **7. Special Token**   | **0.94** | 우수     | \<solution\>=1.0, \<think\>(+0.3). 기본 0.3        |
| **8. Step 효율**       | **0.44** | 취약     | 1~8=1.0, 9~15=0.7, 16~25=0.4, 26+=0.2              |
| **9. Turn 효율**       | **0.94** | 우수     | 1~3=1.0, 4~6=0.7, 7+=0.4                           |
| **10. Tool 효율**      | **0.44** | 취약     | 1~3=1.0, 4~6=0.7, 7~10=0.4, 11+=0.2                |
| **11. 중복 없음**      | **0.94** | 우수     | 중복 0=1.0, 1=0.7, 2+=0.4                          |
| **12. 정확도**         | **0.71** | 양호     | 완전 일치=1.0, 부분=0.8, 불일치=0.0                |
| **13. 깔끔한 답변**    | **0.94** | 우수     | ~500자=1.0, ~1000=0.7, 초과=0.4                    |
| **14. 종합**           | **0.76** | 양호     | 1~13 가중 평균                                     |

등급: 우수(0.90+) / 양호(0.70~0.89) / 개선 필요(0.50~0.69) / 취약(0.50 미만)

# 10. 문제점 개선 방법론

|                 |          |                     |                           |               |
|-----------------|----------|---------------------|---------------------------|---------------|
| **항목**        | **점수** | **원인**            | **방법론**                | **기대 효과** |
| **Step 효율**   | 0.44     | patient_gene 46step | GDPO chosen: step 적은 것 | step 30% 감소 |
| **Tool 효율**   | 0.44     | 같은 API 반복       | 반복→rejected GDPO        | 호출 40% 감소 |
| **코드 적절성** | 0.66     | 에러 핸들링 부재    | SFT 정답 코드 학습        | 에러 50% 감소 |
| **논리적 근거** | 0.69     | 통계 근거 부족      | PRM 낮은 step 개선        | PRM +0.05     |

10.1 patient_gene_detection 개선 (0/3 → 2/3)

|            |                     |                                 |            |
|------------|---------------------|---------------------------------|------------|
| **시기**   | **원인**            | **해결 방법**                   | **난이도** |
| **단기**   | ENSG 검색 경로 없음 | prompt에 gene2ensembl 확인 지시 | 낮음 (1일) |
| **중기**   | DL에 ENSG 매핑 부재 | gene_symbol-ENSG 매핑 추가      | 중간 (3일) |
| **장기**   | 변환 추론 한계      | BioMart API + GDPO 학습         | 높음 (2주) |
| **구조적** | 46 step 무한 반복   | max_step=20 + 3회 반복시 중단   | 낮음 (1일) |

# 11. API 비용 분석

11.1 항목별 비용

|                           |            |             |               |                |             |
|---------------------------|------------|-------------|---------------|----------------|-------------|
| **항목**                  | **제공자** | **호출 수** | **토큰 (in)** | **토큰 (out)** | **비용**    |
| **Phase C: GPT-4.1 실행** | OpenAI     | ~240        | 480K          | 120K           | $1.92      |
| **PRM: GPT-4.1 judge**    | OpenAI     | 34          | 911K          | 27K            | $2.04      |
| **PRM: Claude judge**     | Anthropic  | 33          | 870K          | 26K            | $3.01      |
| **합계**                  | \-         | **~307**    | 2,261K        | 173K           | **~$8.04** |

11.2 호출당 비용

|                         |                  |                      |
|-------------------------|------------------|----------------------|
| **작업 유형**           | **호출당 비용**  | **단가 기준**        |
| **GPT-4.1 태스크 실행** | $0.11/건        | in $2/M, out $8/M  |
| **GPT-4.1 PRM 채점**    | $0.06/건        | in $2/M, out $8/M  |
| **Claude PRM 채점**     | $0.09/건        | in $3/M, out $15/M |
| **전체 평균**           | **$0.023/호출** | \-                   |

11.3 전체 확장 시 예상 비용

|                        |                 |                   |                   |               |
|------------------------|-----------------|-------------------|-------------------|---------------|
| **항목**               | **현재 (17건)** | **Eval1 (433건)** | **LAB (1,554건)** | **전체 합계** |
| **GPT-4.1 실행**       | $1.92          | ~$48             | ~$171            | ~$219        |
| **PRM (GPT judge)**    | $2.04          | ~$52             | ~$186            | ~$238        |
| **PRM (Claude judge)** | $3.01          | ~$77             | ~$275            | ~$352        |
| **예상 총 비용**       | ~$8.04         | ~$177            | ~$632            | **~$809**    |

R0 실행은 로컬 vLLM을 사용하므로 API 비용 $0. GPU 전력 비용만 발생합니다.

# 12. Phase 2 인수인계 산출물

모든 파일은 JSON 형식으로 통일되었습니다.

|                               |          |          |                                             |
|-------------------------------|----------|----------|---------------------------------------------|
| **파일**                      | **건수** | **형식** | **용도**                                    |
| **sft_data.json**             | 93건     | **JSON** | SFT 지도학습 (정답 trajectory)              |
| **gdpo_pairs_formatted.json** | 15쌍     | **JSON** | GDPO chosen/rejected 쌍                     |
| **uncertainty_labels.json**   | 253건    | **JSON** | Uncertainty Head 학습 (should_refuse 65.2%) |
| **prm_r0_claude.json**        | 16건     | **JSON** | R0 PRM (Claude judge, 제3자)                |
| **prm_gpt41_claude.json**     | 17건     | **JSON** | GPT-4.1 PRM (Claude judge, 제3자)           |
| **prm_scores.json**           | 16건     | **JSON** | R0 PRM (GPT-4.1 judge)                      |
| **r0_trajectories.json**      | 17건     | **JSON** | R0 개선 trajectory 원본                     |
| **gpt41_trajectories.json**   | 17건     | **JSON** | GPT-4.1 trajectory 원본                     |

12.1 구재현 요구사항 충족

|                                |          |                    |
|--------------------------------|----------|--------------------|
| **요구사항**                   | **상태** | **비고**           |
| **JSON 형식 통일**             | **완료** | 전 파일 JSON       |
| **Ai Message 제거**            | **완료** | regex              |
| **버그 건 제외**               | **완료** | NameError/MaxToken |
| **판단기준 14항목 채점**       | **완료** | 정량 로직 문서화   |
| **품질 정렬 (step/turn/tool)** | **완료** | GDPO chosen 결정   |

# 13. Phase 2 권고사항

13.1 GDPO 학습 방향

**1) Step 효율 최적화:** R0는 GPT-4.1 대비 1.4배 step. GDPO chosen에서 효율적 trajectory 선호.

**2) Data Lake 활용 강화:** R0 유일 승리(187번)는 Data Lake 덕분. 차별적 경쟁력 강화.

**3) 추론 품질 보존:** Claude PRM 기준 R0 추론 품질이 우수. 효율 개선 시 품질 저하 방지.

13.2 PRM Judge 권고

**제3자 judge 사용 권장:** GPT-4.1 자체 채점은 자기 편향(오답에 0.90)이 심각. Claude 또는 별도 PRM 모델 사용 권고.

13.3 Uncertainty Head 설계

**PRM 높은 오답 감지:** 양측 모델에서 PRM 0.85~0.93이면서 오답 발생. Uncertainty Head가 감지해야 함.

**should_refuse 비율:** 253건 중 165건(65.2%) negative 샘플 확보.

# 14. 전체 수집 현황 및 확장 계획

14.1 GPU 대규모 수집 현황

|                  |         |          |          |          |          |
|------------------|---------|----------|----------|----------|----------|
| **벤치마크**     | **GPU** | **전체** | **완료** | **성공** | **상태** |
| **Biomni-Eval1** | GPU 6   | 433      | 251      | 93 (37%) | 중단     |
| **LAB-Bench**    | GPU 7   | 1,554    | 264      | (미확인) | 중단     |

대규모 수집은 학습 GPU 확보를 위해 중단 상태입니다. Phase 2 학습 완료 후 재개 예정입니다.

14.2 파일럿 vs 전체 확장 계획

|                      |                   |                  |
|----------------------|-------------------|------------------|
| **지표**             | **현재 (파일럿)** | **목표 (전체)**  |
| **평가 태스크**      | 17건 (6유형)      | 2,011건 (15유형) |
| **GDPO 쌍**          | 15쌍              | 50쌍+            |
| **SFT 데이터**       | 93건              | 1,000건+         |
| **PRM 채점**         | 33건              | 1,000건+         |
| **Uncertainty 라벨** | 253건             | 2,000건+         |
| **API 비용**         | ~$8.04           | ~$809           |

14.3 프로젝트 타임라인

|          |           |                                                                 |
|----------|-----------|-----------------------------------------------------------------|
| **날짜** | **Phase** | **작업 내용**                                                   |
| ~2/7     | 수집      | GPU6/7 대규모 trajectory 수집 (Eval1 251건, LAB-Bench 264건)    |
| 2/9      | 분석      | 수집 중단, 성공률/복잡도 정량 분석, 벤치마크 비교 보고서        |
| 2/12     | 전략      | 종합전략 문서 작성 (8개 섹션, 22건 문제점, Phase A-E 계획)      |
| 2/13     | A+B       | Biomni-R0 개선 패치, trajectory 버그 수정, 17건 재실행          |
| 2/14     | B~E       | 채점 수정, GPT-4.1 비교, GDPO 구성, Dual-Judge PRM, 최종 보고서 |
