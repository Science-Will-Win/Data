**AIGEN BioAgent**

**Phase 2 팀 질문답변 03**

시스템 프롬프트 검증 결과 + 후속 논의 사항

  ---------------- ------------------------------------------------------
  **문서 번호**    Phase2_팀_질문답변_03_20260220

  **작성일**       2026-02-20

  **작성자**       박정훈 (Phase 1 리드)

  **수신**         구재현 (Phase 2)

  **목적**         1\) 시스템 프롬프트 검증 결과 공유 2) R0 프롬프트 확정
                   일정 질의 3) D-scenario CRISPR 개선 방향 공유

  **첨부**         System_Prompt_비교분석_v2_20260220.docx (상세 분석
                   보고서)
  ---------------- ------------------------------------------------------

1\. 시스템 프롬프트 검증 결과 공유

재현님이 질의하신 시스템 프롬프트 일관성 문제에 대해, 서버에서 A1
소스코드를 직접 추출하여 Phase 2 합의 문서와 대조 검증을 완료했습니다.

1.1 검증 방법

AIGEN DGX 서버에서 Python inspect 모듈로 A1 클래스(biomni.agent.A1)
내부의 \_generate_system_prompt() 메서드를 추출하여, Phase 2 합의 Google
Doc의 5종 프롬프트와 항목별로 대조했습니다.

1.2 검증 결과 요약

  -------- ---------------- ------------------------ -------------------------
  **\#**   **프롬프트**     **검증 결과**            **판정**

  1        R0 모델 전용     합의 문서에 \"ddd\"      ⚠️ 확정 대기 (아래 질문 1
                            placeholder만 존재 →     참고)
                            Phase 1은 A1 기본        
                            프롬프트 사용            

  2        GPT 에이전트     핵심 7개                 ✅ 일치 --- 데이터 영향
           실행             항목(체크리스트,         없음
                            코드태그, R/Bash마커,    
                            출력경로 등) 모두 일치.  
                            차이는 모델 이름뿐       
                            (\"Aigen R0\" vs         
                            \"helpful biomedical     
                            assistant\")             

  3        Tool Retriever   합의 문서의 9개 규칙과   ✅ 동일 기능 --- 데이터
                            A1 내장 retriever 모듈이 영향 없음
                            동일한 역할 수행         

  4        Action Discovery 논문 태스크 추출용으로   --- 비교 대상 아님
                            Phase 1 벤치마크 수집과  
                            무관                     

  5        Biomni A1 실행   sgRNA 가이드, CRISPick   🔴 차이 있으나 양쪽 모두
                            가이드, know-how 문서가  미적용 상태
                            합의 문서에는 있으나 A1  
                            코드에 미포함. 단,       
                            know-how 로더 확인 결과  
                            로드된 문서 0개          
  -------- ---------------- ------------------------ -------------------------

1.3 데이터 유효성 판정

  -----------------------------------------------------------------------
  **결론:** 현재 수집된 GDPO 829쌍, SFT 444건, Uncertainty 433건은 모두
  유효합니다. 전체 데이터 재수집은 불필요합니다.

  -----------------------------------------------------------------------

  ---------------- ------------ ------------------------------------------
  **데이터**       **재수집**   **근거**

  **GDPO 829쌍**   ❌ 불필요    에이전트 핵심 구조(체크리스트, 코드태그,
                                도구 선택)가 코드 수준에서 일치 확인됨

  **SFT 444건**    ❌ 불필요    정답 trajectory의 품질은 모델 이름 차이에
                                영향받지 않음

  **Uncertainty    ❌ 불필요    hidden state 기반이므로 프롬프트 내용과
  433건**                       무관

  **CRISPR 관련    🟡 선택적    sgRNA/CRISPick 가이드를 프롬프트에
  태스크**                      추가하면 성공률 개선 가능 → 아래 섹션
                                3에서 상세 설명
  ---------------- ------------ ------------------------------------------

*상세 분석은 첨부 파일(System_Prompt_비교분석_v2_20260220.docx)을 참고해
주세요.*

2\. R0 전용 프롬프트 확정 관련 질의

  -----------------------------------------------------------------------
  **질문 Q1: R0 전용 시스템 프롬프트(\"ddd\") 확정 일정이 어떻게
  되나요?**

  -----------------------------------------------------------------------

배경

Phase 2 합의 문서 \"System prompt for the Aigen R0\"에 R0 모델 전용
프롬프트가 \"ddd\"로만 기재되어 있어 아직 확정되지 않은 상태입니다.
Phase 1에서는 확정본이 없어 A1 기본 프롬프트(\"You are a helpful
biomedical assistant\...\")를 사용했습니다.

필요한 확인 사항

  -------- ------------------------------- ----------------------------------
  **\#**   **질문**                        **Phase 1 영향**

  1        R0 전용 프롬프트를 별도로       있다면, 확정 후 해당 프롬프트로 R0
           작성할 계획이 있나요?           trajectory 재수집 필요 여부 판단

  2        확정 예상 시기는 언제인가요?    BioML-Bench 수집 시작 전에
                                           확정되면 반영 가능

  3        R0 프롬프트에 도메인            포함 시 CRISPR 관련 태스크 성공률
           지식(sgRNA, CRISPick 등)을      개선 기대 → D-scenario 축소 가능
           포함할 계획인가요?              
  -------- ------------------------------- ----------------------------------

  -----------------------------------------------------------------------
  **질문 Q2: 현재 A1 기본 프롬프트로 수집된 데이터를 Phase 2 학습에
  사용하는 데 문제가 있나요?**

  -----------------------------------------------------------------------

위 1.3에서 정리한 바와 같이, Phase 1에서는 핵심 구조가 동일한 A1 기본
프롬프트로 데이터를 수집했습니다. Phase 2 학습 시 이 데이터를 그대로
사용해도 되는지, 아니면 R0 프롬프트 확정 후 재수집이 필요한지 재현님의
판단을 부탁드립니다.

3\. D-scenario CRISPR 태스크 개선 방향 공유

R0과 GPT 두 모델 모두 실패한 137건(D-scenario) 중 CRISPR 관련 태스크의
개선 방향을 공유합니다. 이 개선이 성공하면 추가 GDPO 쌍을 확보할 수
있습니다.

3.1 현재 상황

  ----------------------------- ------------------ ----------------------------------
  **태스크**                    **현재 프롬프트    **예상 개선 효과**
                                상태**             

  **crispr_delivery**           sgRNA 설계 가이드  3-tier 접근법(①Addgene DB →
                                없음               ②CRISPick 사전계산 → ③직접 설계)
                                                   추가 시 에이전트가 적절한 sgRNA
                                                   설계 전략을 선택할 수 있음

  **screen_design_retrieval**   CRISPick 접근법    238개 사전계산 데이터셋 접근
                                없음               가이드 추가 시 에이전트가 관련
                                                   데이터를 직접 활용 가능
  ----------------------------- ------------------ ----------------------------------

3.2 개선 계획

**Step 1:** D-scenario 137건에서 CRISPR 관련 태스크 식별 + 실패 원인
분류

**Step 2:** sgRNA 3-tier 가이드 + CRISPick 데이터셋 가이드를 A1 시스템
프롬프트에 추가

**Step 3:** 개선된 프롬프트로 해당 태스크만 재수집 (R0 + GPT 양쪽)

**Step 4:** 새로 성공한 케이스에서 추가 GDPO 쌍 구성 → Phase 2 학습
데이터 보강

  -----------------------------------------------------------------------
  **질문 Q3: 이 개선 방향에 대한 의견이 있으신가요?**

  -----------------------------------------------------------------------

특히 아래 사항에 대한 피드백을 부탁드립니다:

  -------- ------------------------------------------------------------------
  **\#**   **피드백 요청 사항**

  1        CRISPR 외에 D-scenario에서 우선 개선할 태스크 유형이 있나요? (예:
           patient_gene, rare_disease, gwas_causal)

  2        추가 GDPO 쌍의 최소 목표 수량이 있나요? (현재 829쌍 + 추가분)

  3        프롬프트 개선 시 Phase 2 학습 파이프라인에서 주의할 점이 있나요?
           (예: 시스템 프롬프트가 달라진 trajectory의 혼합 학습 가능 여부)
  -------- ------------------------------------------------------------------

4\. 회신 요청 정리

  -------- --------------------------------- --------------- -----------------
  **\#**   **질문 요약**                     **회신 유형**   **긴급도**

  **Q1**   R0 전용 프롬프트(\"ddd\") 확정    일정 공유       🔴 높음 ---
           일정은?                                           BioML-Bench 수집
                                                             전 필요

  **Q2**   현재 A1 기본 프롬프트 수집        Yes/No + 의견   🔴 높음 --- 학습
           데이터를 Phase 2 학습에 사용해도                  진행 판단에 필요
           되는지?                                           

  **Q3**   D-scenario CRISPR 개선 방향에     피드백          🟡 중간 --- 개선
           대한 의견                                         착수 전 확인
  -------- --------------------------------- --------------- -----------------

회신은 메시지/문서 어떤 형태든 괜찮습니다. **Q1·Q2가 확정되면
BioML-Bench Docker 세팅 및 수집을 바로 시작할 수 있습니다.**

감사합니다.

**박정훈 (Phase 1 리드)** \| 2026-02-20
